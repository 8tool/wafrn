<app-loader *ngIf="loading"></app-loader>
<ng-container *ngIf="!loading">
  <div class="wafrn-container mx-1 md:mx-4 flex align-items-center">
    <h3 class="flex-grow-1 m-0 mb-2 text-2xl ">Forum Style View</h3>
  </div>
  <app-post [post]="post" ></app-post>
  @for (content of forumPosts; track $index; let index = $index) {
  
    @if(content.content !== '' || content.tags.length > 0 || content.quotes.length > 0 || content.questionPoll?.questionPollQuestions || (content.medias && content.medias.length
  > 0)) {
  <mat-card [id]="'post-' + content.id" class="p-3 m-2 mb-6 lg:mx-4 scalein wafrn-container">
    <app-post-header [fragment]="content" [simplified]="false"></app-post-header>
    <div (mousedown)="scrollTo(content.parentId)" *ngIf="content.parentId" class="w-full flex"  >In response to... </div>
    <app-post-fragment [selfManageCw]="true" [fragment]="content"></app-post-fragment>
  </mat-card>
  }
  @else {
    <mat-card class="p-3 m-2 mb-6 lg:mx-4 scalein wafrn-container">
      <div class="flex">
        <app-avatar-small class="mr-2" [user]="content.user"></app-avatar-small> {{content.user.url}} reblogged <a class="ml-1" [routerLink]="'/forum/' + content.parentId"> this post</a>
      </div>
    </mat-card>
  }
}
</ng-container>
