<mat-card *ngIf="notification" class="p-3 py-4 mb-2 lg:mx-4 scalein wafrn-container">
  <div class="flex align-items-start -my-2">
    <div class="avatar flex align-content-center flex-wrap">
      <img crossorigin="anonymous" loading="lazy" [src]="notification.avatar"
        class="notification-image flex align-items-center justify-content-center border-1 border-300 border-round"
        alt="" width="64" height="64" />
    </div>
    <div class="py-1 px-2">
      <p class="m-0 mb-1 no-underline text-sm text-gray-300">
        {{ notification.date | date : "short" }}
      </p>
      <p class="m-0">
        User
        <a [routerLink]="'/blog/' + notification.userUrl">{{
          notification.userUrl
          }}</a>
        @switch (notification.type) { @case(notificationType.MENTION) {
        mentioned you <a [routerLink]="notification.url"> in a woot</a>} @case
        (notificationType.LIKE) { liked
        <a [routerLink]="notification.url">one of your woots</a>
        } @case(notificationType.FOLLOW) { now follows you! } @case
        (notificationType.EMOJIREACT) { reacted with @if (emojiUrl) {
        <img class="post-emoji" [src]="emojiUrl" [alt]="notification.emojiName" />
        } @else { {{ notification.emojiName }} }
        <a [routerLink]="'/post/' + notification.url"> to your woot</a>
        } @case (notificationType.REBLOG) { rewooted
        <a [routerLink]="notification.url">one of your woots</a>} }
      </p>
    </div>
  </div>
  <div [routerLink]="notification.url" class="notification-content-shortened"
    *ngIf="notification.type !== notificationType.FOLLOW">
    <div *ngIf="notification.type !== notificationType.MENTION " class="flex mt-3 center-text overflow-hidden">
      <div class="flex align-content-center user-avatar-container">
        <img [routerLink]="'/blog/' + notification.fragment?.user?.url" crossorigin="anonymous" loading="lazy"
          [src]="selfAvatarUrl" alt="" style="max-height: 3em; max-width: 3em;" />
      </div>
      <div class="w-full white-space-nowrap overflow-hidden text-overflow-ellipsis flex flex-column">
        <div>
          <a class="original-poster-name" [routerLink]="'/blog/' + notification.fragment?.user?.url"
            [innerHTML]="notification.fragment?.user?.name"></a>
        </div>
        <div class="date-line mb-1 flex gap-2 align-items-center">
          <span class="font-small original-poster-url" [innerText]="notification.fragment?.user?.url"></span>
        </div>
      </div>
    </div>
    <app-post-fragment [fragment]="notification.fragment"></app-post-fragment>
  </div>
  <button [routerLink]="notification.url" mat-flat-button color="primary" class="w-full">View woot</button>
</mat-card>